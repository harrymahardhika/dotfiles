# =======================
# Hyprlock Configuration
# =======================

source =

# ----- Fonts -----
$font         = JetBrainsMono Nerd Font
$font-display = JetBrainsMono Nerd Font

# ----- Catppuccin Mocha Palette -----
$color-accent = rgb(137,180,250)   # Blue
$color-check  = rgb(166,227,161)   # Green
$color-fail   = rgb(243,139,168)   # Red
$color-inner  = rgba(30,30,46,0.6) # Base w/ transparency
$color-font   = rgb(205,214,244)   # Text
$color-subtle = rgb(108,112,134)   # Overlay0 (for dim accents)
$color-lavender = rgb(180,190,254) # Lavender
$color-mauve  = rgb(203,166,247)   # Mauve

# ----------- General -----------
general {
  hide_cursor = false
  grace = 0
  disable_loading_bar = false
}

# -------- Animations -----------
animations {
  enabled = true
  bezier = smooth, 0.4, 0.02, 0.21, 1   # custom smoother curve
  animation = fadeIn,        1, 6, smooth
  animation = fadeOut,       1, 6, smooth
  animation = inputFieldDots,1, 4, smooth
}

# -------- Background -----------
background {
  path = screenshot
  blur_passes = 4              # slightly stronger blur
  blur_size   = 8              # cleaner background blur
  noise       = 0.02           # subtle dithering for less banding
}

# ------- Profile Picture -------
image {
  path = ~/.face                # or use a specific path like ~/Pictures/avatar.png
  size = 120
  rounding = -1                 # -1 = circle
  border_size = 3
  border_color = $color-accent
  
  position = 0, 120
  halign = center
  valign = center
}

# ------- User Greeting -------
label {
  text = Hi, $USER
  color = $color-font
  font_size = 28
  font_family = $font-display
  
  position = 0, 40
  halign = center
  valign = center
}

# ------- Input Field -----------
input-field {
  size = 300, 50
  outline_thickness = 2
  rounding = 12

  inner_color = $color-inner
  outer_color = $color-accent $color-check 45deg
  check_color = $color-check $color-accent 120deg
  fail_color  = $color-fail rgba(250,179,135,0.9) 40deg  # Red â†’ Peach gradient
  font_color  = $color-font

  fade_on_empty = true          # looks cleaner
  fade_timeout = 1000
  font_family   = $font
  placeholder_text = ðŸ”’ Enter password...
  fail_text       = âŒ $FAIL ($ATTEMPTS)

  dots_spacing = 0.35
  dots_size    = 0.4
  dots_center = true

  position = 0, -60
  halign = center
  valign = center
}

# ------- Time Display -------
label {
  text = cmd[update:1000] echo "$(date +"%H:%M")"
  color = $color-font
  font_size = 90
  font_family = $font-display
  
  position = 0, 300
  halign = center
  valign = center
}

# ------- Date Display -------
label {
  text = cmd[update:60000] echo "$(date +"%A, %B %d")"
  color = $color-lavender
  font_size = 22
  font_family = $font
  
  position = 0, 200
  halign = center
  valign = center
}

# ------- Battery Status (bottom-right) -------
label {
  text = cmd[update:5000] echo "ó°¹ $(cat /sys/class/power_supply/BAT*/capacity | head -n 1 2>/dev/null || echo '100')%"
  color = $color-lavender
  font_size = 14
  font_family = $font
  
  position = -30, 30
  halign = right
  valign = bottom
}

# ------- Uptime (bottom-left) -------
label {
  text = cmd[update:60000] echo "ó±Ž« $(uptime -p | sed 's/up //')"
  color = $color-lavender
  font_size = 14
  font_family = $font
  
  position = 30, 30
  halign = left
  valign = bottom
}

# ------- Caps Lock Indicator -------
label {
  text = cmd[update:500] ~/.config/hypr/scripts/capslock.sh
  color = $color-mauve
  font_size = 16
  font_family = $font
  
  position = 0, -140
  halign = center
  valign = center
}
